# ============================================
# PK SERVIZI API - Environment Configuration
# ============================================

# Node Environment
NODE_ENV=development

# API Configuration
API_PORT=3000
API_URL=http://localhost:3000

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3001

# ============================================
# Database Configuration
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=pk_servizi

# Database Performance Tuning
DB_POOL_SIZE=20
DB_CONNECTION_TIMEOUT=5000
DB_IDLE_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000
DB_CACHE=true
DB_CACHE_DURATION=60000
DB_SLOW_QUERY_LOG=1000

# TypeORM Logging (set to true for SQL query debugging)
TYPEORM_LOGGING=false

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production
JWT_EXPIRES_IN=7h
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-me-in-production
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# Security & Rate Limiting
# ============================================
# CORS Origins (comma-separated for multiple origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100

# Throttle Configuration
THROTTLE_TTL=60000
THROTTLE_LIMIT=100
THROTTLE_LONG_TTL=3600000
THROTTLE_LONG_LIMIT=1000

# ============================================
# AWS S3 Configuration
# ============================================
AWS_S3_ENABLED=false
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=pk-servizi-documents

# ============================================
# Stripe Payment Integration
# ============================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs
STRIPE_PRICE_ID_MONTHLY=price_your_monthly_price_id
STRIPE_PRICE_ID_ANNUAL=price_your_annual_price_id

# ============================================
# Email Configuration (NodeMailer)
# ============================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password
MAIL_FROM=PK SERVIZI <noreply@pkservizi.com>
MAIL_SECURE=false

# ============================================
# Application Settings
# ============================================
# Upload limits
MAX_FILE_SIZE=10485760

# Session/Cookie settings
SESSION_SECRET=your-session-secret-change-me

# Timezone
TZ=Europe/Rome

# ============================================
# Logging & Monitoring
# ============================================
LOG_LEVEL=info

# Sentry (optional - for error tracking)
# SENTRY_DSN=your-sentry-dsn-url

# ============================================
# Optional Features
# ============================================
# Enable Swagger Documentation in production
ENABLE_SWAGGER_IN_PROD=false

# Enable detailed error responses (development only)
DETAILED_ERRORS=true
